parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"PbzH":[function(require,module,exports) {
"use strict";function e(e){return function(t){return function(r){return e.methods.subscribe(t,r),e.objects.observables[r]}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.get=e;
},{}],"vLhh":[function(require,module,exports) {
"use strict";function e(e){return function(r,n){var t=e.objects.listeners.find(function(e){return e.observable===n});if(!t)return console.log("Listener not found on observable ".concat(n));var o=t.components;o.find(function(e){return e.registerNumber===r})||o.push({registerNumber:r})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribe=e;
},{}],"FC4r":[function(require,module,exports) {
"use strict";function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(r){e(t,r,n[r])})}return t}function e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r(t){return c(t)||o(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.set=y;var i=function(t){return["string","number","boolean"].includes(u(t))},f=function(t,e){return t!==e};function y(e){return function(n){n&&Object.keys(n).forEach(function(o){var c=e.objects.observables[o],y=Array.isArray(c)?r(c):"object"===u(c)?t({},c):c,a="function"==typeof n[o]?n[o](y):n[o];u(c)!==u(a)?console.warn("Type does not match previous type in ".concat(o)):(!i(a)||i(a)&&f(c,a))&&(e.objects.observables[o]=a,e.methods.notify(o))})}}
},{}],"Sr08":[function(require,module,exports) {
"use strict";function e(e){return function(t,o){var s=e.objects.observables[t].findIndex(function(e){return e.id===o.id});e.objects.observables[t][s]=o,e.methods.notify(t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setItem=e;
},{}],"i9pf":[function(require,module,exports) {
"use strict";function e(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function o(o){return function(t,n){var r=o.objects.observables[t];void 0===r?console.warn("Observable [".concat(t,"] does not exists.")):"boolean"!=typeof r?console.warn("Observable [".concat(t,"] is not a boolean.")):(o.methods.set(e({},t,!r)),n&&n(!r))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toggle=o;
},{}],"Q1gY":[function(require,module,exports) {
"use strict";function e(e){return function(t){t&&Object.keys(e.objects.computed).forEach(function(o){e.objects.computed[o].take.includes(t)&&e.methods.compute(o)}),e.flags.IS_MOUNTED&&e.methods.render()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.notify=e;
},{}],"yqCc":[function(require,module,exports) {
"use strict";function t(t){return n(t)||r(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function o(e){return function(r){var n=e.objects.computed[r],o=n.take,c=n.calc,a=o.map(function(t){return e.objects.observables[t]});e.objects.observables[r]=c.apply(void 0,t(a))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compute=o;
},{}],"o5h1":[function(require,module,exports) {
"use strict";function e(e){return function(){Object.keys(e.objects.computed).forEach(function(t){e.methods.compute(t)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.computeAll=e;
},{}],"1E7/":[function(require,module,exports) {
"use strict";function e(e){return function(t,n){"MOUNTED"===t&&(e.flags.IS_MOUNTED=!0),e.objects.reactions.filter(function(e){return e.keepAlive?e.eventStr===t:e.eventStr===t&&!e.done}).forEach(function(e){e.done=!0,e.callback(n)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.emit=e;
},{}],"4E9n":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerComponent=t;var e=1e3;function t(t){return function(n){return e++,t.objects.components[e]={definition:n,instances:{}},e}}
},{}],"tRKw":[function(require,module,exports) {
"use strict";function e(e){return function(t,n){e.objects.reactions.push({eventStr:t,callback:n,keepAlive:!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=e;
},{}],"ba1f":[function(require,module,exports) {
"use strict";function e(e){return function(t,n){e.objects.reactions.push({eventStr:t,callback:n,done:!1})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.once=e;
},{}],"iM9C":[function(require,module,exports) {
"use strict";function e(e,t){return function(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"root";e.objects.defaultComponent||(e.objects.defaultComponent=function(){return o(n)});var u="string"==typeof r?document.getElementById(r):r,d=o||e.objects.defaultComponent;t(d(n),u)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=e;
},{}],"ar3Q":[function(require,module,exports) {
"use strict";function e(e,r){return function(e,t){var s=r[e](t);return{result:s.result,message:s.message}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.check=e;
},{}],"0KrD":[function(require,module,exports) {
"use strict";function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),r.forEach(function(n){t(e,n,o[n])})}return e}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(t,n){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Math.floor(1e3*Math.random()),i=Date.now(),a="".concat(i,"--").concat(r),c=o.name?n[o.name]:o.name;t.objects.alerts.push(e({_id:a},o,{message:c,timestamp:i,isVisible:!0})),t.methods.notify(null),o.timeout&&setTimeout(function(){t.methods.alertOff({_id:a})},o.timeout)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.alertOn=n;
},{}],"eEJP":[function(require,module,exports) {
"use strict";function e(e){return function(t){var i=t._id,n=e.objects.alerts.find(function(e){return e._id===i});n&&(n.isVisible=!1,e.methods.notify(null))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.alertOff=e;
},{}],"hfQR":[function(require,module,exports) {
"use strict";function e(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r,s){var o=new window.XMLHttpRequest;o.open("POST","".concat(e,"/api/methods"),!0),o.setRequestHeader("Content-type","application/json"),o.onreadystatechange=function(){if(o.readyState===window.XMLHttpRequest.DONE){var e=o.status;[200,201].includes(e)||s("XHR request failed");var t=o.responseText;r(JSON.parse(t))}};var a=JSON.stringify({method:t,args:n});o.send(a)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.callServerMethod=e;
},{}],"/B/9":[function(require,module,exports) {
"use strict";function e(e){return function(t){var r=t.instance,n=void 0===r?null:r,s=t.user_id,i=t.lastTimestamp,o=void 0===i?0:i,a=t.localEntitiesIds,d={user_id:s,lastTimestamp:o,localEntitiesIds:void 0===a?[]:a};return new Promise(function(t,r){e.methods.callServerMethod("@server-model.getData",d).then(function(e){e||r("Could not get data from server");var s=Date.now();t({instance:n,items:e,newTimestamp:s})}).catch(r)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDataFromServer=e;
},{}],"KzmV":[function(require,module,exports) {
"use strict";function t(t){return r(t)||e(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function o(n){var e=n.instance,r=n.items,o=n.newTimestamp,i=0;return new Promise(function(n){0===r.length&&n({instance:e,counter:i,newTimestamp:o});var a=e.transaction(["model"],"readwrite").objectStore("model"),c=a.getAll();c.onsuccess=function(){var s=c.result;r.forEach(function(c){if(c.attrs.length>0){var u=s.find(function(t){return t._id===c._id});a.put({_id:c._id,domain:c.domain,attrs:u?[].concat(t(u.attrs),t(c.attrs)):c.attrs}).onsuccess=function(){++i===r.length&&n({instance:e,counter:i,newTimestamp:o})}}})}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.syncDataToDB=o;
},{}],"wa9B":[function(require,module,exports) {
"use strict";function t(t){var e=t.instance,r=t.user_id;return new Promise(function(t,n){var o=e.transaction("control").objectStore("control").getAll();o.onsuccess=function(){var s=o.result||[],c=s.length>0?s[s.length-1].lastTimestamp:0,i=e.transaction("model").objectStore("model").getAllKeys();i.onsuccess=function(){var n=i.result||[];t({instance:e,user_id:r,lastTimestamp:c,localEntitiesIds:n})},i.onerror=function(){return n("Error getting Model Keys")}},o.onerror=function(){return n("Error getting Control Records")}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDBMetadata=t;
},{}],"4YLd":[function(require,module,exports) {
"use strict";function t(t){var e=t.instance,n=t.counter,o=t.newTimestamp;return new Promise(function(t){e.transaction(["control"],"readwrite").objectStore("control").put({_id:o,lastTimestamp:o,counter:n}).onsuccess=function(){t({instance:e})}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateDBControl=t;
},{}],"Y+Zg":[function(require,module,exports) {
"use strict";function e(e){var t=e.instance;return new Promise(function(e){var n=t.transaction("model").objectStore("model").getAll();n.onsuccess=function(){return e(n.result)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getModelData=e;
},{}],"Pod+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.start=a;var e=require("./getDataFromServer"),t=require("./syncDataToDB"),r=require("./getDBMetadata"),n=require("./updateDBControl"),o=require("./getModelData");function a(a,d){var i=d.name,u=d.version,c=d.user_id,s=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;return s?new Promise(function(e,t){var r=s.open(i,u);r.onsuccess=function(){return e({instance:r.result,user_id:c})},r.onerror=function(){return t(r.error)},r.onupgradeneeded=function(e){var t=e.target.result;t.model=t.createObjectStore("model",{keyPath:"_id"}),t.control=t.createObjectStore("control",{keyPath:"_id"})}}).then(r.getDBMetadata).then((0,e.getDataFromServer)(a)).then(t.syncDataToDB).then(n.updateDBControl).then(o.getModelData).catch(console.log):new Promise(function(t,r){(0,e.getDataFromServer)({user_id:c}).then(function(e){var r=e.items;return t(r)}).catch(r)})}
},{"./getDataFromServer":"/B/9","./syncDataToDB":"KzmV","./getDBMetadata":"wa9B","./updateDBControl":"4YLd","./getModelData":"Y+Zg"}],"/xk5":[function(require,module,exports) {
"use strict";function t(t){return n(t)||r(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){a(t,e,r[e])})}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){return t.reduce(function(t,e){var r=e.key,n=e.value,u=e.timestamp;return t[r]||(t[r]={value:n,dbValue:n,status:1,timestamp:u}),o({},t,a({},r,u>t[r].timestamp?{value:n,dbValue:n,status:1,timestamp:u}:t[r]))},{})}function i(e){return function(r){r.length>0&&(e.db.data=r.reduce(function(e,r){var n=r._id,i=r.domain,c=r.attrs;return e[i]||(e[i]=[]),o({},e,a({},i,[].concat(t(e[i]),[{_id:n,attrs:u(c)}])))},{}),e.flags.IS_MOUNTED&&e.methods.render())}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hydrate=i;
},{}],"l5i6":[function(require,module,exports) {
"use strict";function e(e){return function(t){return e.db.data&&e.db.data[t]||[]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.query=e;
},{}],"sTyA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"start",{enumerable:!0,get:function(){return e.start}}),Object.defineProperty(exports,"hydrate",{enumerable:!0,get:function(){return r.hydrate}}),Object.defineProperty(exports,"query",{enumerable:!0,get:function(){return t.query}});var e=require("./start"),r=require("./hydrate"),t=require("./query");
},{"./start":"Pod+","./hydrate":"/xk5","./query":"l5i6"}],"TNVk":[function(require,module,exports) {
"use strict";function e(e){var o=e.socketUrl,n=e.user_id,t=e.onMessage;if(!o)return console.log("SocketUrl not defined"),function(){};if(!("WebSocket"in window))return console.log("WebSocket not supported"),function(){};var i=new window.WebSocket(o),r=function(e){return i.send(JSON.stringify(e))};return i.onopen=function(){console.log("WebSocket opened"),n&&r({user_id:n,isInitial:!0})},i.onclose=function(e){return console.log("WebSocket closed",e)},i.onmessage=function(e){t(JSON.parse(e.data))},r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initSocket=e;
},{}],"Yz8R":[function(require,module,exports) {
"use strict";function e(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(r){t(e,r,a[r])})}return e}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(r){return function(a){var n=a.data;if(a.isInitial&&console.log("Socket first message --\x3e ",a),n){var o=n._id,u=n.domain,i=n.attrs;r.db.data[u]||(r.db.data[u]=[]);var s=r.db.data[u].find(function(e){return e._id===o});s?i.forEach(function(e){var t=e.key,r=e.value,a=e.timestamp;s.attrs[t]={value:r,dbValue:r,status:3,timestamp:a}}):r.db.data[u].push({_id:o,attrs:i.reduce(function(r,a){var n=a.key,o=a.value;return e({},r,t({},n,{value:o,dbValue:o,status:3,timestamp:a.timestamp}))},{})}),r.methods.render()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onMessage=r;
},{}],"DgAr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"initSocket",{enumerable:!0,get:function(){return e.initSocket}}),Object.defineProperty(exports,"onMessage",{enumerable:!0,get:function(){return t.onMessage}});var e=require("./initSocket"),t=require("./onMessage");
},{"./initSocket":"TNVk","./onMessage":"Yz8R"}],"Uocf":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"ueg3":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectStoreToServer=c;var r=s(require("../db")),t=s(require("../sockets")),o=require("../methods");function s(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}var n=e.browser;function c(e,s){var c=s.user_id,a=s.siteUrl,i=s.socketUrl;if(e.methods.callServerMethod=(0,o.callServerMethod)(a),n){var u=t.initSocket({socketUrl:i,user_id:c,onMessage:t.onMessage(e)});return e.sockets={sendJSON:u},e.db={data:null,query:r.query(e)},r.start(e,{name:"asyncDB",version:1,user_id:c}).then(r.hydrate(e)).catch(console.log)}}
},{"../db":"sTyA","../sockets":"DgAr","../methods":"X8lW","process":"Uocf"}],"7FkZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.startApp=r;var e=require("../lifecycle/connectStoreToServer");function r(r){return function(t){var o=t.appData,c=t.routes,n=o.currentPage,s=o.query,i=o.baseUrl,a=o.baseFolder,u=o.httpPort,l=o.socketPort,d=o.isProduction,v=o.useServiceWorker,p=d?"https://".concat(i,"/").concat(a):"http://".concat(i,":").concat(u),h=l?d?"wss://".concat(i,"/").concat(a):"http://".concat(i,":").concat(l):null;v&&"serviceWorker"in window.navigator&&window.navigator.serviceWorker.register("../sw.js",{scope:"/"}).then(function(e){console.log("Service Worker registration OK",e)}).catch(function(e){console.log("Service Worker registration FAILED",e)});var g=c._root_;n&&r.methods.set({currentPage:n}),s.user&&r.methods.set({user_id:s.user}),(0,e.connectStoreToServer)(r,{user_id:s.user,siteUrl:p,socketUrl:h}).then(function(){r.methods.render(g,{currentPage:n},"root"),r.methods.emit("MOUNTED")})}}
},{"../lifecycle/connectStoreToServer":"ueg3"}],"X8lW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"get",{enumerable:!0,get:function(){return e.get}}),Object.defineProperty(exports,"subscribe",{enumerable:!0,get:function(){return r.subscribe}}),Object.defineProperty(exports,"set",{enumerable:!0,get:function(){return t.set}}),Object.defineProperty(exports,"setItem",{enumerable:!0,get:function(){return n.setItem}}),Object.defineProperty(exports,"toggle",{enumerable:!0,get:function(){return o.toggle}}),Object.defineProperty(exports,"notify",{enumerable:!0,get:function(){return u.notify}}),Object.defineProperty(exports,"compute",{enumerable:!0,get:function(){return i.compute}}),Object.defineProperty(exports,"computeAll",{enumerable:!0,get:function(){return c.computeAll}}),Object.defineProperty(exports,"emit",{enumerable:!0,get:function(){return p.emit}}),Object.defineProperty(exports,"registerComponent",{enumerable:!0,get:function(){return f.registerComponent}}),Object.defineProperty(exports,"on",{enumerable:!0,get:function(){return b.on}}),Object.defineProperty(exports,"once",{enumerable:!0,get:function(){return l.once}}),Object.defineProperty(exports,"render",{enumerable:!0,get:function(){return s.render}}),Object.defineProperty(exports,"check",{enumerable:!0,get:function(){return m.check}}),Object.defineProperty(exports,"alertOn",{enumerable:!0,get:function(){return a.alertOn}}),Object.defineProperty(exports,"alertOff",{enumerable:!0,get:function(){return g.alertOff}}),Object.defineProperty(exports,"callServerMethod",{enumerable:!0,get:function(){return d.callServerMethod}}),Object.defineProperty(exports,"startApp",{enumerable:!0,get:function(){return O.startApp}});var e=require("./get"),r=require("./subscribe"),t=require("./set"),n=require("./setItem"),o=require("./toggle"),u=require("./notify"),i=require("./compute"),c=require("./computeAll"),p=require("./emit"),f=require("./registerComponent"),b=require("./on"),l=require("./once"),s=require("./render"),m=require("./check"),a=require("./alertOn"),g=require("./alertOff"),d=require("./callServerMethod"),O=require("./startApp");
},{"./get":"PbzH","./subscribe":"vLhh","./set":"FC4r","./setItem":"Sr08","./toggle":"i9pf","./notify":"Q1gY","./compute":"yqCc","./computeAll":"o5h1","./emit":"1E7/","./registerComponent":"4E9n","./on":"tRKw","./once":"ba1f","./render":"iM9C","./check":"ar3Q","./alertOn":"0KrD","./alertOff":"eEJP","./callServerMethod":"hfQR","./startApp":"7FkZ"}],"C8CX":[function(require,module,exports) {
"use strict";function e(e){return function(r){var o=r.name,s=r.steps,n=r.onError,t=Date.now(),u={_id:t,name:o,steps:s,done:!1};n&&(u.onError=n),e.process.queue.splice(0,0,u),e.process.runTask({_id:t})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.addToQueue=e;
},{}],"Y0fB":[function(require,module,exports) {
"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function t(t,n){if(!n)return function(){};var o=Object.keys(n).reduce(function(o,c){var u=n[c],s=t.objects.observables;return e({},o,r({},c,function(r){t.process.addToQueue(e({name:c},u({observables:s})(r)))}))},{});return function(e,r){return o[e](r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createProcesses=t;
},{}],"/s2A":[function(require,module,exports) {
"use strict";function t(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},n=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(a){r(t,a,e[a])})}return t}function r(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function a(a,e){var n=e._id,u=e.domain,o=e.attrs;a.db.data[u]||(a.db.data[u]=[]);var c=a.db.data[u].find(function(t){return t._id===n});return c?Object.keys(o).forEach(function(t){var r=o[t].value;c.attrs[t]={value:o[t],dbValue:r,status:0,timestamp:Date.now()}}):a.db.data[u].push({_id:n,attrs:Object.keys(o).reduce(function(a,e){return t({},a,r({},e,{value:o[e],dbValue:null,status:0,timestamp:Date.now()}))},{})}),a.methods.render(),function(t){if(c||t){var r=a.db.data[u].find(function(t){return t._id===n});Object.keys(r.attrs).forEach(function(a){var e=r.attrs[a];0===e.status&&(e.status=t?2:1,t||(e.value=e.dbValue),t&&(e.dbValue=e.value),e.timestamp=Date.now())})}else a.db.data[u]=a.db.data[u].filter(function(t){return t._id!==n});t||a.methods.render()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.processOptimistic=a;
},{}],"EtjE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processStep=n;var e=require("./processOptimistic");function t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(r,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n(o),c=i.method,a=i.domain,s=i.args,u=i.sideEffect,f=i.optimistic;if("_Backend_"===a){var l=void 0===f||f?(0,e.processOptimistic)(r,s):function(){};return new Promise(function(e,n){return r.methods.callServerMethod(c,s).then(function(r){var n=r.error,i=r.data;l(!n),e({error:n,data:t({},o.data,i)})}).catch(function(e){l(!1),n(e)})})}if("_Store_"===a)return r.methods[c](s),u&&u(),Promise.resolve(o)}
},{"./processOptimistic":"/s2A"}],"1r7v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.processor=r;var e=require("./processStep");function r(r){return function(n){var o=n.map(function(n){return function(o){return(0,e.processStep)(r,n,o)}}),t=!0;o.reduce(function(e,r){return e.then(function(e){if(t)return r(e)}).catch(function(e){console.log("Error in Promise chain execution",e),t=!1})},Promise.resolve({}))}}
},{"./processStep":"EtjE"}],"SP6h":[function(require,module,exports) {
"use strict";function e(e){return function(r){var s=r._id,n=e.process.queue.find(function(e){return e._id===s});e.process.processor(n.steps),n.done=!0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.runTask=e;
},{}],"xEHf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"addToQueue",{enumerable:!0,get:function(){return e.addToQueue}}),Object.defineProperty(exports,"createProcesses",{enumerable:!0,get:function(){return r.createProcesses}}),Object.defineProperty(exports,"processor",{enumerable:!0,get:function(){return t.processor}}),Object.defineProperty(exports,"runTask",{enumerable:!0,get:function(){return u.runTask}});var e=require("./addToQueue"),r=require("./createProcesses"),t=require("./processor"),u=require("./runTask");
},{"./addToQueue":"C8CX","./createProcesses":"Y0fB","./processor":"1r7v","./runTask":"SP6h"}],"f1JQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStore=o;var e=r(require("../methods")),t=r(require("../queue"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function o(r,o){var s={},c=r.observables,n=void 0===c?{}:c,l=r.computed,u=void 0===l?{}:l,a=r.actions,i=void 0===a?{}:a,p=r.alerts,d=void 0===p?{}:p,b=r.checks,f=void 0===b?{}:b;return s.flags={IS_MOUNTED:!1},s.utils={hoc:null},s.objects={defaultComponent:null,observables:n,computed:u,listeners:[],reactions:[],components:{},alerts:[]},s.methods={check:e.check(s,f),get:e.get(s),subscribe:e.subscribe(s),set:e.set(s),setItem:e.setItem(s),toggle:e.toggle(s),notify:e.notify(s),emit:e.emit(s),on:e.on(s),once:e.once(s),render:e.render(s,o),compute:e.compute(s),computeAll:e.computeAll(s),registerComponent:e.registerComponent(s),alertOn:e.alertOn(s,d),alertOff:e.alertOff(s),callServerMethod:function(){},startApp:e.startApp(s)},s.process={queue:[],addToQueue:t.addToQueue(s),processor:t.processor(s),runTask:t.runTask(s),call:t.createProcesses(s,i)},Object.keys(s.objects.observables).forEach(function(e){s.objects.listeners.push({observable:e,components:[]})}),s.methods.computeAll(),s}
},{"../methods":"X8lW","../queue":"xEHf"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./lifecycle/createStore"),r=e.createStore;exports.default=r;
},{"./lifecycle/createStore":"f1JQ"}]},{},["Focm"], null)
//# sourceMappingURL=/index.map